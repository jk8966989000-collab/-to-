<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Merry Christmas</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    background: linear-gradient(#0b1d3a, #000814);
    overflow: hidden;
    touch-action: manipulation;
    font-family: "Comic Sans MS", "Arial Rounded MT Bold", sans-serif;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>
<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
resize();
window.addEventListener("resize", resize);

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}

// â„ï¸ é›ªèŠ±
const snowflakes = Array.from({ length: 120 }, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 3 + 1,
  s: Math.random() * 1 + 0.5
}));

let giftOpened = false;
let bunnyY = canvas.height;
let showText = false;

canvas.addEventListener("click", () => {
  giftOpened = true;
  showText = true;
});

// ðŸŽ ç¦®ç‰©ç›’
function drawGift() {
  const x = canvas.width / 2;
  const y = canvas.height / 2 + 60;

  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(Math.sin(Date.now() / 400) * 0.05);

  // box
  ctx.fillStyle = "#e63946";
  ctx.fillRect(-60, -40, 120, 80);

  // ribbon
  ctx.fillStyle = "#ffd166";
  ctx.fillRect(-10, -40, 20, 80);
  ctx.fillRect(-60, -10, 120, 20);

  // lid
  ctx.fillStyle = giftOpened ? "#c1121f" : "#ef233c";
  ctx.fillRect(-70, -60, 140, 30);

  ctx.restore();
}

// ðŸ° åœ“åœ“å…”å­
function drawBunny() {
  if (!giftOpened) return;

  bunnyY += (canvas.height / 2 - 40 - bunnyY) * 0.05;

  const x = canvas.width / 2;
  const y = bunnyY;

  // body
  ctx.fillStyle = "#fff";
  ctx.beginPath();
  ctx.arc(x, y, 40, 0, Math.PI * 2);
  ctx.fill();

  // ears
  ctx.beginPath();
  ctx.ellipse(x - 20, y - 60, 12, 30, 0, 0, Math.PI * 2);
  ctx.ellipse(x + 20, y - 60, 12, 30, 0, 0, Math.PI * 2);
  ctx.fill();

  // face
  ctx.fillStyle = "#333";
  ctx.beginPath();
  ctx.arc(x - 10, y - 5, 4, 0, Math.PI * 2);
  ctx.arc(x + 10, y - 5, 4, 0, Math.PI * 2);
  ctx.fill();

  ctx.fillStyle = "#ffb5c2";
  ctx.beginPath();
  ctx.arc(x, y + 8, 5, 0, Math.PI * 2);
  ctx.fill();
}

// âœ¨ é‡‘è‰²æ–‡å­—
function drawText() {
  if (!showText) return;
  ctx.fillStyle = "#ffd700";
  ctx.font = "bold 42px Arial Rounded MT Bold";
  ctx.textAlign = "center";
  ctx.fillText("MERRY CHRISTMAS", canvas.width / 2, 90);
}

// â„ï¸ é›ªå‹•ç•«
function drawSnow() {
  ctx.fillStyle = "#fff";
  snowflakes.forEach(f => {
    f.y += f.s;
    if (f.y > canvas.height) f.y = -10;
    ctx.beginPath();
    ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
    ctx.fill();
  });
}

function loop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawSnow();
  drawText();
  drawGift();
  drawBunny();
  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
